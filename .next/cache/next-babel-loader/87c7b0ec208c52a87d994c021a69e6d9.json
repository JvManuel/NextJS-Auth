{"ast":null,"code":"var _jsxFileName = \"/home/john_vincent/Next/nextjs-auth/pages/profile/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport nextCookie from 'next-cookies';\nimport Layout from \"../../components/layout\";\nimport { withAuthSync } from \"../../utils/auth\";\nimport getHost from \"../../utils/get-host\";\n\nclass Profile extends React.Component {\n  static async getInitialProps(ctx) {\n    const response = await fetch(process.env.API_URL + '/a/me', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + nextCookie(ctx).token\n      }\n    }).then(response => response.json());\n    return response;\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Welcome \", this.props.data.name.firstName, \" \", this.props.data.name.lastName));\n  }\n\n}\n\nexport default withAuthSync(Profile);","map":{"version":3,"sources":["/home/john_vincent/Next/nextjs-auth/pages/profile/index.js"],"names":["React","Router","fetch","nextCookie","Layout","withAuthSync","getHost","Profile","Component","getInitialProps","ctx","response","process","env","API_URL","method","headers","token","then","json","render","props","data","name","firstName","lastName"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP;AACA,SAASC,YAAT;AACA,OAAOC,OAAP;;AAEA,MAAMC,OAAN,SAAsBP,KAAK,CAACQ,SAA5B,CAAsC;AACpC,eAAaC,eAAb,CAA6BC,GAA7B,EAAkC;AAChC,UAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,OAAO,CAACC,GAAR,CAAYC,OAAZ,GAAsB,OAAvB,EAAgC;AAC1DC,MAAAA,MAAM,EAAE,KADkD;AAE1DC,MAAAA,OAAO,EAAE;AACP,wBAAiB,kBADV;AAEP,yBAAiB,YAAYb,UAAU,CAACO,GAAD,CAAV,CAAgBO;AAFtC;AAFiD,KAAhC,CAAL,CAOtBC,IAPsB,CAOjBP,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EAPK,CAAvB;AASA,WAAOR,QAAP;AACD;;AAEDS,EAAAA,MAAM,GAAG;AAEP,WAAO,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACW,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,CAAqBC,SADhC,OAC4C,KAAKH,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,CAAqBE,QADjE,CADK,CAAP;AA8BD;;AA9CmC;;AAiDtC,eAAepB,YAAY,CAACE,OAAD,CAA3B","sourcesContent":["import React from 'react'\nimport Router from 'next/router'\nimport fetch from 'isomorphic-unfetch'\nimport nextCookie from 'next-cookies'\nimport Layout from 'components/layout'\nimport { withAuthSync } from 'utils/auth'\nimport getHost from 'utils/get-host'\n\nclass Profile extends React.Component {\n  static async getInitialProps(ctx) {\n    const response = await fetch(process.env.API_URL + '/a/me', {\n      method: 'GET',\n      headers: {\n        'Content-Type' : 'application/json',\n        'Authorization': 'Bearer ' + nextCookie(ctx).token\n      },\n    })\n    .then(response => response.json())\n\n    return response\n  }\n  \n  render() {\n\n    return <Layout>\n      <div>\n        Welcome {this.props.data.name.firstName} {this.props.data.name.lastName}\n      </div>\n      {/* <style jsx>{`\n        body{\n          background-color: red;\n        }\n        img {\n          max-width: 200px;\n          border-radius: 0.5rem;\n        }\n\n        h1 {\n          margin-bottom: 0;\n        }\n\n        .lead {\n          margin-top: 0;\n          font-size: 1.5rem;\n          font-weight: 300;\n          color: #666;\n        }\n\n        p {\n          color: #6a737d;\n        }\n      `}</style>  */}\n    </Layout>\n    \n  }\n}\n\nexport default withAuthSync(Profile)\n"]},"metadata":{},"sourceType":"module"}